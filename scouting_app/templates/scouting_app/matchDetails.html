{% extends "scouting_app/base.html" %}
{% block title %} Match {{ match.match_number }}{% endblock %}
{% block header %}{{ event.name }}{% endblock %}

{% block content %}
<div class="match">

<ul>
	{% if prevMatch != 0 %}
	<li><h2><a href="/event/{{ event_number }}/match/{{ prevMatch }}">‚Üê</a></h2></li>
	{% endif %}
	<li><h2>Match {{ match_number }}</h2></li>
	<li><h2><a href="/event/{{ event_number }}/match/{{ nextMatch }}">‚Üí</a></h2></li>
</ul>

{% if latest_match_list %}
<div class="redAlliance">
	<h3>{% if winner == 'Red' %}üëë {% endif %}Red Alliance - <i>{{ r_score }}</i></h3>
	<table>
		<thead>
			<th>Team #</th>
			<th>Auto Score</th>
			<th>Auto Move</th>
			<th>TeleOp Score</th>
			<th>Endgame Score</th>
			<th>Endgame Time</th>
			<th>Tippy</th>
			<th>Disabled</th>
		</thead>
		<tbody>
    	{% for match in latest_match_list %}
    	{% if match.alliance == 'red' %}
		<tr>
			<td class="highlight"><a href="/team/{{ match.linked_team.number }}/">Team {{ match.linked_team.number }}</a></td>
            <td>{{ match.auto_score }}</td>
            <td>{{ match.auto_move }}</td>
            <td>{{ match.teleop_score }}</td>
            <td>{{ match.endgame_score }}</td>
            <td>{{ match.endgame_time }}</td>
            <td>{{ match.tippy }}</td>
            <td>{{ match.disabled }}</td>
		</tr>
        {% endif %}
    	{% endfor %}
		</tbody>
	</table>
</div>

<div class="blueAlliance">
	<h3>{% if winner == 'Blue' %}üëë {% endif %}Blue Alliance - <i>{{ b_score }}</i></h3>
	<table>
		<thead>
			<th>Team #</th>
			<th>Auto Score</th>
			<th>Auto Move</th>
			<th>TeleOp Score</th>
			<th>Endgame Score</th>
			<th>Endgame Time</th>
			<th>Tippy</th>
			<th>Disabled</th>
		</thead>
		<tbody>
    	{% for match in latest_match_list %}
    	{% if match.alliance == 'blue' %}
		<tr>
			<td class="highlight"><a href="/team/{{ match.linked_team.number }}/">Team {{ match.linked_team.number }}</a></td>
            <td>{{ match.auto_score }}</td>
            <td>{{ match.auto_move }}</td>
            <td>{{ match.teleop_score }}</td>
            <td>{{ match.endgame_score }}</td>
            <td>{{ match.endgame_time }}</td>
            <td>{{ match.tippy }}</td>
            <td>{{ match.disabled }}</td>
		</tr>
        {% endif %}
    	{% endfor %}
		</tbody>
	</table>

</div>

{% else %}
    <p>No team data is available for this match.</p>
{% endif %}
</div>
{% endblock %}
